<head>
  <title>Chat</title>
</head>

<body>
  {{> main}}
</body>

<template name="loginform">
  <div class="lgnform">
    <input type="text" name="username" placeholder="Username here..." class="usrn" />
    <input type="text" name="password" placeholder="Password here..." class="pass" />
    <input type="button" value="Login" class="lgn" />
  </div>
</template>

<template name="group">
  <div class="group {{current}}">
    <span class="gname">{{name}}</span>
  </div>
</template>

<template name="main">
  {{#unless usrname}}
    {{> loginform}}
  {{/unless}}
  
  <div class="uname">{{usrname}}</div><br />
  
  {{#if usrname}}
    {{#each groups}}
      {{> group}}
    {{/each}}
    <div class="gform">
      <input type="text" name="gname" placeholder="Group name..." />
      <input type="button" class="cg" value="Create Group" />
    </div>
  {{/if}}

  <br /><br />

  {{#if usrname}}
    {{> chatSection}}
    <input type="button" class="lgout" value="Logout" />
  {{/if}}
</template>

<template name="chatSection">
  <div class="msgs">
    {{#each msgs}}
      <span class="msg">{{msg}}</span> from
	  <span class="from">{{from}}</span><br />
    {{else}}
      No messages yet.
    {{/each}}
  </div>
  <div class="post">
    <input type="text" name="msg" class="postMsg" placeholder="Say something..." />
    <input type="button" value="Post" class="postMsgB" />
  </div>
</template>
