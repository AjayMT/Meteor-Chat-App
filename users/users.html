<head>
  <title>Chatter</title>
</head>

<body>
  {{> main}}
</body>

<template name="loginform">
  <h1>Login to join the conversation!</h1>
  <div class="lgnform">
    <input type="text" name="username" placeholder="Username here..." class="usrn" />
    <input type="text" name="password" placeholder="Password here..." class="pass" />
    <input type="button" value="Login" class="lgn" />
  </div>
</template>

<template name="group">
  <div class="group {{current}}">
    <span class="gname">{{name}}</span>
  </div>
</template>

<template name="main">
  {{#unless usrname}}
    <center>
      {{> loginform}}
    </center>
  {{/unless}}

  {{#if usrname}}
    <h3>Hey there, </h3>
  {{/if}}
  <div class="uname">{{usrname}}</div><br />
  
  {{#if usrname}}
    <div class="groups">
      <h3>Groups</h3>
      {{#each groups}}
        {{> group}}
      {{else}}
        No groups yet.
      {{/each}}
    </div><br />
    <div class="gform">
      <input type="text" name="gname" placeholder="Group name..." />
      <input type="button" class="cg" value="Create Group" />
    </div>
  {{/if}}
  <br />
  
  {{#if usrname}}
    {{> chatSection}}
    <input type="button" class="lgout" value="Logout" />
  {{/if}}
</template>

<template name="chatSection">
  <div class="msgs">
    <h3>Messages</h3>
    {{#each msgs}}
      <span class="msg">{{msg}}</span>
      <span class="from">from {{from}}</span>
    {{else}}
      No messages yet.
    {{/each}}
    <br /><br />
    <div class="post">
      <input type="text" name="msg" class="postMsg" placeholder="Say something..." />
      <input type="button" value="Post" class="postMsgB" />
    </div>
  </div><br />
</template>
